{"version":3,"file":"portfolio.js","sources":["../src/js/portfolio.js"],"sourcesContent":["import Swiper from 'swiper/bundle';\nimport 'swiper/css/bundle';\nimport { productCategories } from './catalog-data';\n\n// Function to initialize sliders\nfunction initPortfolioSliders() {\n  // Create placeholder images for development\n  createPlaceholderImages();\n\n  // Initialize each slider\n  initSlider('countertops', productCategories.countertops.items);\n  initSlider('windowsills', productCategories.windowsills.items);\n  initSlider('stairs', productCategories.stairs.items);\n  initSlider('fireplaces', productCategories.fireplaces.items);\n  initSlider('floors', productCategories.floors.items);\n  initSlider('bathrooms', productCategories.bathrooms.items);\n  initSlider('tiles', productCategories.tiles.items);\n  initSlider('monuments', productCategories.monuments.items);\n  initSlider('paving', productCategories.paving.items);\n  initSlider('slabs', productCategories.slabs.items);\n  initSlider('rosettes', productCategories.rosettes.items);\n}\n\n// Function to create and show lightbox\nfunction showLightbox(imageSrc) {\n  const lightbox = document.createElement('div');\n  lightbox.className = 'portfolio-lightbox';\n\n  const img = document.createElement('img');\n  img.src = imageSrc;\n  img.alt = 'Full size image';\n\n  lightbox.appendChild(img);\n  document.body.appendChild(lightbox);\n\n  // Add fade-in effect\n  setTimeout(() => lightbox.classList.add('active'), 10);\n\n  // Close lightbox on click\n  lightbox.addEventListener('click', () => {\n    lightbox.classList.remove('active');\n    setTimeout(() => lightbox.remove(), 300);\n  });\n}\n\n// Function to initialize a specific slider\nfunction initSlider(category, items) {\n  const sliderSelector = `.${category}-slider`;\n  const sliderElement = document.querySelector(sliderSelector);\n\n  if (!sliderElement) return;\n\n  // Add slides to the wrapper\n  const swiperWrapper = sliderElement.querySelector('.swiper-wrapper');\n\n  items.forEach(item => {\n    const slide = document.createElement('div');\n    slide.className = 'swiper-slide';\n\n    const img = document.createElement('img');\n    img.src = item.image;\n    img.alt = item.title;\n    img.loading = 'lazy';\n\n    // Add click handler for lightbox\n    img.addEventListener('click', e => {\n      e.preventDefault();\n      showLightbox(item.image);\n    });\n\n    const caption = document.createElement('div');\n    caption.className = 'portfolio-item-caption';\n    caption.textContent = item.title;\n\n    slide.appendChild(img);\n    slide.appendChild(caption);\n    swiperWrapper.appendChild(slide);\n  });\n\n  // Initialize Swiper\n  new Swiper(sliderSelector, {\n    slidesPerView: 3,\n    spaceBetween: 30,\n    centeredSlides: true,\n    loop: true,\n    pagination: {\n      el: `${sliderSelector} .swiper-pagination`,\n      clickable: true,\n    },\n    navigation: {\n      nextEl: `${sliderSelector} .swiper-button-next`,\n      prevEl: `${sliderSelector} .swiper-button-prev`,\n    },\n    autoplay: {\n      delay: 5000,\n      disableOnInteraction: false,\n    },\n  });\n  \n  // Add 'Перейти' button after the slider\n  const portfolioCategory = sliderElement.closest('.portfolio-category');\n  if (portfolioCategory) {\n    // Check if button already exists\n    if (!portfolioCategory.querySelector('.category-link-button')) {\n      const linkButton = document.createElement('a');\n      linkButton.className = 'category-link-button';\n      linkButton.textContent = 'Перейти';\n      linkButton.href = `./product-categories.html?category=${category}`;\n      \n      // Create a container for the button to center it\n      const buttonContainer = document.createElement('div');\n      buttonContainer.className = 'button-container';\n      buttonContainer.appendChild(linkButton);\n      \n      // Insert the button after the slider\n      portfolioCategory.appendChild(buttonContainer);\n    }\n  }\n}\n\n// Function to create placeholder images for development\nfunction createPlaceholderImages() {\n  // Check if we're in development and images don't exist\n  const testImage = new Image();\n  testImage.src = productCategories.countertops.items[0].image;\n\n  testImage.onerror = () => {\n    console.log('Using placeholder images for development');\n\n    // Replace image paths with placeholder images\n    Object.keys(productCategories).forEach(category => {\n      if (productCategories[category].items) {\n        productCategories[category].items.forEach(item => {\n          // Use placeholder.com for development placeholders\n          item.image = `https://via.placeholder.com/800x500?text=${category}+image`;\n        });\n      }\n    });\n\n    // Reinitialize sliders with placeholder images\n    initSlider('countertops', productCategories.countertops.items);\n    initSlider('windowsills', productCategories.windowsills.items);\n    initSlider('stairs', productCategories.stairs.items);\n    initSlider('fireplaces', productCategories.fireplaces.items);\n    initSlider('floors', productCategories.floors.items);\n    initSlider('bathrooms', productCategories.bathrooms.items);\n    initSlider('tiles', productCategories.tiles.items);\n    initSlider('monuments', productCategories.monuments.items);\n    initSlider('paving', productCategories.paving.items);\n    initSlider('slabs', productCategories.slabs.items);\n    initSlider('rosettes', productCategories.rosettes.items);\n  };\n}\n\n// Initialize portfolio sliders when DOM is loaded\ndocument.addEventListener('DOMContentLoaded', initPortfolioSliders);\n"],"names":["initPortfolioSliders","createPlaceholderImages","initSlider","productCategories","showLightbox","imageSrc","lightbox","img","category","items","sliderSelector","sliderElement","swiperWrapper","item","slide","e","caption","Swiper","portfolioCategory","linkButton","buttonContainer","testImage"],"mappings":"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"}